- name: Instalando gnuplot
  apt:
     name: gnuplot
- name: Instalando screen
  apt:
     name: screen
- name: Verificando se aiStarter já existe
  stat:
     path: /home/mindmakers/programs/verify/aiStarter/appinventor2-setup_2.3_all.deb
  register: aiStarter
- file:
    path: /home/mindmakers/programs/verify/aiStarter
    state: directory
    mode: 0755
- name: Baixando arquivo de instalação aiStarter -- Este passo pode demorar --
  get_url:
    url: http://appinv.us/aisetup_linux_deb
    dest: /home/mindmakers/programs/verify/aiStarter
    timeout: 60
    mode: 0744
  when: not aiStarter.stat.exists
- name: Instalando aiStarted do pacote .deb
  apt:
    deb: /home/mindmakers/programs/verify/aiStarter/appinventor2-setup_2.3_all.deb
  #when: not aiStarter.stat.exists
- name: Copiando programas executáveis aiStarter
  copy:
     src: files/appinventor/usr
     dest: /
     mode: 0755
- file:
    path: /usr/google/appinventor/commands-for-Appinventor/adb
    state: absent
- shell: 'sudo ln -v -s /usr/bin/adb /usr/google/appinventor/commands-for-Appinventor/adb'
- name: Instalando pacote do npm "node-ipc"
  npm:
    name: node-ipc
    path: /home/mindmakers/programs
- name: Instalando pacote do npm "node-red-dashboard"
  npm:
    name: node-red-dashboard
    global: yes
    path: /home/mindmakers/programs
- name: Instalando pacote do npm "node-red-mindmakers"
  shell: 'sudo npm -g install /home/mindmakers/programs/mmnodered'
